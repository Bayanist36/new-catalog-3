---
order: 2
title: Лабораторное занятие №2
---

**Тема:** Установка и конфигурирование ПО видеосервера

 **Цель работы:** Освоить процесс установки, первоначальной настройки и базовой конфигурации программного обеспечения видеосервера (VMS -- Video Management Software) для управления IP-камерами. Получить практические навыки по интеграции камер, настройке хранилища, управлению пользователями и организации видеонаблюдения через централизованную платформу.

**Продолжительность:** 2 часа\
 **Программное обеспечение:**

-  **Blue Iris** (версия 5.x -- условно-бесплатная, подходит для обучения)\
    *или*

-  **Milestone XProtect® Express+** (бесплатная версия для до 8 камер, от одного из лидеров рынка VMS)\
    *или*

-  **iSpy / Agent DVR** (открытый исходный код, кроссплатформенный)

<table header="row">
<tr>
<td>

*Примечание для преподавателя: В методических целях рекомендуется использовать Milestone XProtect Express+ -- он наиболее близок к промышленным решениям и имеет понятный интерфейс. Blue Iris -- мощный инструмент для Windows, подходит для углублённого изучения.*

</td>
</tr>
</table>

 

**Предварительные требования:**

-  Знание архитектуры систем видеонаблюдения (Лекция №2).

-  Навыки настройки IP-камер (Лабораторная работа №1).

-  Базовые знания работы с операционной системой Windows (установка ПО, настройка сетевых параметров).

 

**1\. Теоретическая справка (10 мин)**

Перед началом работы необходимо вспомнить ключевые понятия:

-  **Видеосервер (VMS -- Video Management Software)** -- это программное обеспечение, устанавливаемое на сервер или ПК, которое выполняет функции центрального узла системы видеонаблюдения: обнаружение и добавление камер, приём и запись видеопотоков, хранение архива, управление пользователями, настройка событий и тревог, интеграция с другими системами.

-  **Отличие от NVR:** NVR -- это аппаратное устройство «всё-в-одном». VMS -- это гибкое ПО, которое можно установить на любой подходящий сервер, масштабировать, обновлять и интегрировать.

-  **Основные функции VMS:**

-  Добавление и управление камерами.

-  Настройка параметров записи (по расписанию, по движению, постоянно).

-  Просмотр в реальном времени и воспроизведение архива.

-  Управление пользователями и ролями.

-  Настройка событий и уведомлений (email, push, звук).

-  Интеграция с картами, СКУД, системами аналитики.

-  **Эмуляция камер:** Поскольку в лабораторных условиях физических камер может не быть, мы будем использовать:

-  Встроенные эмуляторы камер в ПО (если есть).

-  Онлайн-источники RTSP (публичные тестовые потоки).

-  Программы-симуляторы IP-камер (например, **iSpy Agent DVR** может выступать как сервер и как эмулятор).

 

**2\. Подготовка рабочего места (10 мин)**

1. Убедитесь, что компьютер подключён к локальной сети и имеет статический IP-адрес (например,  192.168.1.50 ).

2. Скачайте установочный файл выбранного ПО видеосервера:

-  Milestone XProtect Express+: <https://www.milestonesys.com>

-  Blue Iris: <https://blueirissoftware.com>

-  iSpy + Agent DVR: <https://www.ispyconnect.com>

1. Установите ПО, следуя инструкциям установщика. При установке Milestone также будет предложено установить SQL Server Express (согласитесь -- это необходимо для хранения метаданных).

2. Запустите установленное ПО.

3. Если вы используете **IP Video System Design Tool** из предыдущей лабораторной -- экспортируйте список камер (IP, порт, логин, пароль) для использования в этой работе.

<table header="row">
<tr>
<td>

**Важно:** Некоторые антивирусы могут блокировать установку или работу VMS. На время лабораторной работы временно отключите антивирус или добавьте исключения для папки установки и исполняемых файлов.

</td>
</tr>
</table>

 

 

**3\. Задание 1: Первичная настройка видеосервера (20 мин)**

**Цель:** Выполнить базовую конфигурацию сервера -- настроить хранилище, параметры сети и системные настройки.

**Ход выполнения (на примере Milestone XProtect Express+):**

1. После первого запуска откроется «Мастер первоначальной настройки».

2. **Шаг 1: Настройка хранилища.**

-  Укажите папку для хранения видеоархива (например,  D:\\VideoArchive ).

-  Установите лимит места на диске:  50 GB  (для теста).

-  Выберите политику перезаписи: «Перезаписывать самые старые записи».

1. **Шаг 2: Настройка сервера.**

-  Убедитесь, что указан правильный IP-адрес сервера.

-  Порт по умолчанию:  8080  (веб-интерфейс),  7001  (клиент).

1. **Шаг 3: Создание администратора.**

-  Задайте логин:  admin 

-  Задайте сложный пароль:  Admin#2024! 

-  Подтвердите пароль.

1. Завершите мастер. Сервер запустится автоматически.

<table header="row">
<tr>
<td>

**Для Blue Iris:**

-  После запуска перейдите в  Settings -> General  -- укажите папку для архива.

-  В  Settings -> Web Server  -- настройте порт (например, 81).

-  В  Settings -> Users  -- создайте пользователя  admin  с паролем.

</td>
</tr>
</table>

 

<table header="row">
<tr>
<td>

**Вопрос для самопроверки:** Почему важно настраивать политику перезаписи архива? Что произойдёт, если место на диске закончится?

</td>
</tr>
</table>

 

 

**4\. Задание 2: Добавление и настройка IP-камер (30 мин)**

**Цель:** Подключить к видеосерверу виртуальные или тестовые IP-камеры и настроить параметры видеопотока.

**Ход выполнения:**

Вариант A: Использование публичных RTSP-потоков (рекомендуется)

1. Откройте веб-браузер и найдите список публичных тестовых RTSP-потоков. Например:

-   rtsp://[wowzaec2demo.streamlock.net/vod/mp4:BigBuckBunny_115k.mov](http://wowzaec2demo.streamlock.net/vod/mp4:BigBuckBunny_115k.mov) 

-   rtsp://admin:admin@192.168.1.10:554/stream1  (если вы настроили камеру в ЛР1)

1. В интерфейсе VMS перейдите в раздел добавления камер:

-  **Milestone:**  Management Client -> Devices -> Add Camera -> Generic RTSP 

-  **Blue Iris:**  Cameras -> Add -> Network IP Camera -> RTSP 

1. Введите параметры:

-  **Имя камеры:**  Test_Camera_1 

-  **Адрес RTSP:**  rtsp://[wowzaec2demo.streamlock.net/vod/mp4:BigBuckBunny_115k.mov](http://wowzaec2demo.streamlock.net/vod/mp4:BigBuckBunny_115k.mov) 

-  **Логин/Пароль:** не требуются (если поток публичный)

-  **Порт:**  554 

1. Нажмите «Test Connection» -- должен быть статус «Успешно».

2. Добавьте камеру.

3. Перейдите в режим Live View -- убедитесь, что изображение отображается.

4. Повторите для второй камеры (можно использовать тот же поток или другой).

Вариант B: Использование эмулятора камер (например, через iSpy Agent DVR)

1. Установите и запустите **Agent DVR** на том же или другом компьютере в сети.

2. В Agent DVR создайте виртуальную камеру:  Cameras -> Add -> Virtual Camera -> Test Pattern .

3. Запустите камеру -- она будет доступна по RTSP-адресу вида:  rtsp://\[IP\_компьютера\]:8000/cam/realmonitor?channel=1&subtype=0 

4. Добавьте эту камеру в ваш VMS, как описано выше.

Настройка параметров записи:

1. Выберите добавленную камеру в интерфейсе VMS.

2. Перейдите в настройки записи:

-  **Milestone:**  Recording Settings -> Schedule -> Continuous 

-  **Blue Iris:**  Record tab -> Trigger: Always 

1. Установите качество записи:  Medium  или  High .

2. Включите детектор движения (если поддерживается эмулятором):

-  **Milestone:**  Event Settings -> Motion Detection -> Enable 

-  **Blue Iris:**  Trigger tab -> Motion sensor -> Enable 

<table header="row">
<tr>
<td>

**Вопрос для самопроверки:** В чём разница между непрерывной записью и записью по движению? Как это влияет на объём хранилища?

</td>
</tr>
</table>

 

 

**5\. Задание 3: Настройка пользователей и прав доступа (20 мин)**

**Цель:** Создать пользователей с разными уровнями доступа -- администратора, оператора и наблюдателя.

**Ход выполнения:**

1. Перейдите в раздел управления пользователями:

-  **Milestone:**  System Administration -> Users 

-  **Blue Iris:**  Settings -> Users 

1. Создайте пользователя **Оператор**:

-  Имя:  operator 

-  Пароль:  Oper#2024 

-  Роль:  Operator  (или вручную назначьте права: просмотр Live, просмотр архива, экспорт видео -- без права настройки системы).

1. Создайте пользователя **Наблюдатель**:

-  Имя:  viewer 

-  Пароль:  View#2024 

-  Роль:  Viewer  (только просмотр Live, без доступа к архиву и настройкам).

1. Проверьте права:

-  Выйдите из системы под администратором.

-  Войдите под  operator  -- убедитесь, что можно просматривать архив, но нельзя добавлять камеры.

-  Войдите под  viewer  -- убедитесь, что доступен только Live View.

-  Вернитесь под  admin .

<table header="row">
<tr>
<td>

**Вопрос для самопроверки:** Почему важно разделять права доступа? Какие риски возникают при использовании единой учётной записи для всех пользователей?

</td>
</tr>
</table>

 

 

**6\. Задание 4: Просмотр архива и экспорт фрагментов (20 мин)**

**Цель:** Освоить работу с архивом -- поиск по времени, воспроизведение, экспорт видеофрагментов.

**Ход выполнения:**

1. Дождитесь 5–10 минут записи (или используйте уже записанные данные).

2. Перейдите в раздел **Playback / Архив**.

3. Выберите камеру и задайте временной диапазон (например, последние 15 минут).

4. Нажмите «Воспроизведение» -- убедитесь, что запись воспроизводится.

5. Используйте поиск по событиям (если настроен детектор движения) -- найдите момент срабатывания.

6. Экспортируйте фрагмент видео:

-  Выделите временной интервал (например, 1 минуту).

-  Нажмите «Экспорт» -> выберите формат (MP4).

-  Укажите папку для сохранения.

-  Дождитесь завершения экспорта.

1. Проверьте сохранённый файл -- откройте его в проигрывателе.

<table header="row">
<tr>
<td>

**Вопрос для самопроверки:** В каких ситуациях может потребоваться экспорт видеофрагмента? Какие требования к формату и качеству могут быть у заказчика?

</td>
</tr>
</table>

 

 

**7\. Оформление отчёта (10 мин)**

Отчёт по лабораторной работе должен содержать:

1. **Титульный лист** (название работы, ФИО студента, группа, дата).

2. **Цель работы.**

3. **Используемое ПО** (название, версия).

4. **Краткое описание выполненных заданий.**

5. **Скриншоты:**

-  Главное окно VMS с Live View (минимум 2 камеры).

-  Окно настройки хранилища.

-  Окно добавления камеры с успешным тестом соединения.

-  Список пользователей с ролями.

-  Окно воспроизведения архива с выделенным фрагментом.

-  Диалог экспорта видео.

1. **Ответы на вопросы для самопроверки.**

2. **Выводы:** Что вы узнали? С какими трудностями столкнулись? Как это связано с управлением конфигурацией? (Например: документирование настроек камер, версионирование конфигурации сервера, контроль прав доступа -- всё это элементы управления конфигурацией.)

 

**8\. Контрольные вопросы (для защиты работы)**

1. Чем VMS отличается от NVR? В каких случаях предпочтительнее использовать VMS?

2. Какие параметры необходимо знать для добавления IP-камеры в VMS?

3. Зачем нужна настройка хранилища? Какие параметры вы задавали?

4. Почему важно разделять пользователей по ролям? Приведите примеры ролей.

5. Какие форматы экспорта видео поддерживаются? Для чего может понадобиться экспорт?

6. Как VMS связано с управлением конфигурацией? Какие элементы конфигурации вы настраивали в этой работе?