---
order: 7
title: Лабораторное занятие № 7
---

**Тема:** Тестирование масштабируемости системы\
**Цель задания:** Освоить методику оценки способности системы видеонаблюдения и СКУД к масштабированию -- добавлению новых камер, точек доступа и пользователей без потери производительности, стабильности и функциональности.

**Задачи задания:**

1. Разработать сценарий масштабирования для выбранного типового объекта (например, расширение бизнес-центра с 10 до 50 камер).

2. Смоделировать увеличение нагрузки на систему с использованием эмуляторов или демо-режимов ПО.

3. Оценить влияние масштабирования на ключевые ресурсы: сеть, хранилище, производительность сервера.

4. Проанализировать ограничения текущей архитектуры и предложить пути их преодоления.

5. Документировать результаты тестирования и сформулировать рекомендации по проектированию масштабируемых систем.

**Продолжительность:** 2 часа\
**Программное обеспечение:**

-  **Эмулятор систем безопасности:** IP Video System Design Tool (обязательно)

-  **VMS:** Milestone XProtect Express+ или Blue Iris (опционально, для валидации)

-  **Средства мониторинга:** Диспетчер задач Windows, Resource Monitor, или встроенные метрики ПО

-  **Текстовый редактор** для оформления отчёта

**Предварительные требования:**

-  Успешное выполнение Лабораторных работ №1–3 (настройка камер, VMS, интеграция).

-  Знание принципа масштабируемости (Лекция №1, п. 8.4).

-  Базовое понимание сетевой архитектуры и расчёта нагрузки (ПЗ №3).

---

## **1\. Теоретическая справка**

Перед началом работы необходимо вспомнить ключевые положения из **Лекции №1**:

-  **Принцип масштабируемости (п. 8.4):** «Объект может расширяться: добавляться новые помещения, здания, подразделения. Система должна позволять масштабирование без полной перестройки».

-  **Пример из практики (п. 8.4):** «Если университет ставит СКУД на один корпус, разумно сразу выбрать платформу, которая поддерживает интеграцию нескольких корпусов».

-  **Технические ограничения (п. 13.1):** «Перегрузка сети -> пропадание видеопотоков» -- это прямое следствие игнорирования масштабируемости.

-  **Архитектурные решения (п. 9.2):** Локальные, распределённые и облачные системы имеют разный потенциал масштабирования.

---

## **2\. Подготовка рабочего места**

1. Запустите **IP Video System Design Tool**.

2. Откройте проект, созданный в ходе **Лабораторной работы №1** (с 3–5 камерами и СКУД).

3. Подготовьте документ для оформления отчёта (Word или аналог).

---

## **3\. Задание 1: Разработка сценария масштабирования**

**Цель:** Определить реалистичный сценарий роста системы.

**Ход выполнения:**

1. **Выбор объекта и сценария:**

   -  Пример: «Бизнес-центр расширяется с 1 до 3 этажей. Требуется увеличить количество камер с 10 до 30, а точек доступа СКУД -- с 5 до 15».

   -  Альтернатива: «Университет добавляет новый корпус -- 20 камер и 10 точек доступа».

2. **Определение метрик масштабирования:**

   -  Количество IP-камер: от `N` до `N×3`.

   -  Количество точек доступа СКУД: от `M` до `M×3`.

   -  Количество пользователей СКУД: от `K` до `K×3`.

   -  Время хранения архива: остаётся неизменным (30 дней).

3. **Формулировка гипотезы:**

   -  «Текущая архитектура (один NVR, один коммутатор) не выдержит нагрузку при увеличении числа камер в 3 раза».

---

## **4\. Задание 2: Моделирование масштабирования в IP Video System Design Tool**

**Цель:** Визуально и количественно смоделировать рост системы.

**Ход выполнения:**

1. **Базовый сценарий (до масштабирования):**

   -  Убедитесь, что в проекте есть:

      -  10 IP-камер (Full HD, H.264, 4 Мбит/с).

      -  1 NVR с 4 ТБ RAID.

      -  1 PoE-коммутатор на 24 порта.

      -  5 точек доступа СКУД.

   -  Сгенерируйте отчёт **«System Summary»** и зафиксируйте:

      -  Суммарный битрейт.

      -  Требуемый объём хранилища на 30 дней.

      -  Нагрузку на коммутатор.

2. **Сценарий после масштабирования:**

   -  Добавьте ещё 20 камер (итого 30).

   -  Добавьте 10 новых точек доступа СКУД.

   -  Не меняя сервер и коммутатор, сгенерируйте новый отчёт **«System Summary»**.

   -  Зафиксируйте новые значения:

      -  Суммарный битрейт (ожидается \~120 Мбит/с).

      -  Объём хранилища (ожидается \~36 ТБ).

      -  Статус коммутатора («перегрузка»).

3. **Анализ предупреждений:**

   -  Обратите внимание на сообщения Design Tool:

      -  «Пропускная способность коммутатора превышена».

      -  «Недостаточно места на диске NVR».

      -  «Лицензия VMS не поддерживает более 16 каналов».

---

## **5\. Задание 3: Оценка влияния на ресурсы и производительность**

**Цель:** Количественно оценить, какие компоненты системы станут «узким местом».

**Ход выполнения:**

1. **Сетевая инфраструктура:**

   -  Сравните суммарный трафик с пропускной способностью коммутатора (1 Гбит/с = 1000 Мбит/с).

   -  Вывод: «30 камер × 4 Мбит/с = 120 Мбит/с -- в пределах возможностей гигабитного коммутатора. Однако при добавлении PTZ-камер или переходе на 4K нагрузка может превысить лимит».

2. **Хранилище:**

   -  Сравните требуемый объём (36 ТБ) с текущим (4 ТБ).

   -  Вывод: «Требуется замена NVR на сервер с возможностью расширения хранилища (до 64 ТБ+)».

3. **Программное обеспечение:**

   -  Проверьте лицензионные ограничения VMS (например, Milestone Express+ поддерживает до 8 камер).

   -  Вывод: «Для 30 камер требуется переход на коммерческую версию VMS (Milestone Professional)».

4. **СКУД:**

   -  Оцените, выдержит ли текущий контроллер 15 точек доступа.

   -  Вывод: «Требуется установка дополнительного контроллера или переход на более мощную модель».

## **6\. Задание 4: Анализ ограничений и предложения по масштабированию**

**Цель:** На основе результатов моделирования предложить архитектурные изменения для обеспечения масштабируемости.

**Ход выполнения:**

1. **Анализ «узких мест»:**

   -  На основе данных из Задания 3 составьте список компонентов, которые не выдерживают нагрузку:

      -  NVR с фиксированным объёмом дисков.

      -  Лицензионные ограничения VMS.

      -  Одиночный коммутатор без резервирования.

2. **Предложение архитектурных решений:**

   -  **Для хранилища:** заменить NVR на видеосервер с возможностью подключения внешних RAID-массивов или переход на облачное хранилище (VSaaS).

   -  **Для ПО:** перейти с Milestone Express+ на Milestone Professional с лицензией на 32+ камер.

   -  **Для сети:** использовать иерархическую топологию с ядром и агрегацией, добавить резервный коммутатор.

   -  **Для СКУД:** перейти от автономного контроллера к сетевой платформе (например, HID Global Velocity Enterprise).

3. **Оценка стоимости и сложности:**

   -  Кратко опишите, какие изменения повлекут за собой капитальные затраты (CapEx), а какие -- операционные (OpEx).

   -  Пример: «Переход на облачное хранилище снижает CapEx, но увеличивает OpEx за счёт ежемесячной подписки».

---

## **7\. Задание 5: Документирование результатов и выводы**

**Цель:** Зафиксировать опыт и сформулировать общие принципы проектирования масштабируемых систем.

**Ход выполнения:**

1. **Оформление отчёта:**

   -  Включите в отчёт:

      -  Описание сценария масштабирования.

      -  Таблицу сравнения «до» и «после» по ключевым метрикам (битрейт, объём хранилища, нагрузка на сеть).

      -  Список выявленных ограничений.

      -  Предложения по модернизации архитектуры.

2. **Формулировка выводов:**

   -  Сделайте общий вывод: «Масштабируемость не возникает сама по себе -- она должна быть заложена на этапе проектирования».

   -  Свяжите с **принципом масштабируемости из Лекции №1 (п. 8.4)**: «Если университет ставит СКУД на один корпус, разумно сразу выбрать платформу, которая поддерживает интеграцию нескольких корпусов».

3. **Рекомендации для проектировщиков:**

   -  Всегда закладывайте запас по мощности (20–30%).

   -  Выбирайте ПО и оборудование с гибкой лицензировочной моделью.

   -  Используйте модульную архитектуру, позволяющую добавлять компоненты без переделки всей системы.

---

## **8\. Оформление отчёта**

Отчёт по лабораторному заданию должен содержать:

1. **Титульный лист** (название работы, ФИО студента, группа, дата).

2. **Цель работы.**

3. **Описание сценария масштабирования.**

4. **Результаты моделирования в IP Video System Design Tool:**

   -  Скриншоты отчётов «System Summary» до и после масштабирования.

   -  Таблица сравнения ключевых метрик.

5. **Анализ ограничений и предложения по модернизации.**

6. **Выводы и рекомендации** по проектированию масштабируемых систем.

7. **Ответы на вопросы для самопроверки:**

   -  Какие компоненты системы чаще всего становятся «узким местом» при масштабировании?

   -  Почему важно учитывать лицензионные ограничения ПО на этапе проектирования?

   -  Как принцип масштабируемости (Лекция №1, п. 8.4) связан с управлением конфигурацией?

---

## **9\. Контрольные вопросы (для защиты работы)**

1. Какие метрики вы использовали для оценки масштабируемости системы?

2. Какие «узкие места» вы выявили при увеличении числа камер в 3 раза?

3. Почему переход от NVR к видеосерверу повышает масштабируемость?

4. Как ваше моделирование подтверждает принцип масштабируемости из Лекции №1 (п. 8.4)?

5. Какие архитектурные решения вы предложили для преодоления ограничений?

6. Как полученные навыки помогут вам при выполнении курсового проекта (Этап 2: «Разработка архитектуры»)?