---
order: 3
title: Лабораторное задание №3
---

**Тема:** Интеграция системы видеонаблюдения с СКУД\
**Цель задания:** Освоить практические навыки интеграции программного обеспечения видеонаблюдения (VMS) с системой контроля и управления доступом (СКУД) для создания единой комплексной системы безопасности, обеспечивающей автоматизированную реакцию на события и синхронизацию данных.

**Задачи задания:**

1. Настроить базовую интеграцию между ПО видеонаблюдения и ПО СКУД через API или стандартный протокол.

2. Создать правила автоматической реакции в VMS на события из СКУД (успешный/несанкционированный проход).

3. Протестировать сценарии интеграции и зафиксировать результаты.

4. Проанализировать преимущества интегрированной системы по сравнению с раздельной эксплуатацией подсистем.

5. Документировать настройки интеграции и сценарии использования.

**Продолжительность:** 2 часа\
**Программное обеспечение:**

-  **VMS:** Milestone XProtect® Express+ (или Blue Iris) -- из Лабораторной работы №2

-  **СКУД:** HID Global Velocity™ Demo (или Genetec Security Center Community Edition, Agent DVR)

-  **Дополнительно:** браузер, текстовый редактор, IP Video System Design Tool (для эмуляции, если необходимо)

**Предварительные требования:**

-  Успешное выполнение Лабораторной работы №2 (установка и настройка VMS).

-  Базовые знания архитектуры СКУД (Лекция №3).

-  Понимание принципов интеграции систем (Лекция №1, п. 2.3, 16).

---

## **1\. Теоретическая справка**

Перед началом работы необходимо вспомнить ключевые положения из **Лекции №1**:

-  **Интеграция СВН и СКУД (п. 2.3):** Совместная работа подсистем позволяет не только фиксировать события, но и автоматически реагировать на них, повышая эффективность безопасности.

-  **Сценарий инцидента (п. 15.2):** «Студент Иванов пытается пройти по карте Петрова. Камера фиксирует лицо Иванова. Оператор видит несоответствие». Это возможно только при интеграции.

-  **Примеры интеграции (п. 4.3, 16):**

   -  При неуспешной аутентификации -> СВН сохраняет видеофрагмент.

   -  При тревоге -> СКУД открывает двери, СВН фиксирует эвакуацию.

-  **Стандарты (п. 12.1–12.2):** Интеграция может осуществляться через **ONVIF Profile C** (для СКУД) или через **REST API**.

---

## **2\. Подготовка рабочего места**

1. Убедитесь, что на компьютере установлено и запущено:

   -  ПО видеонаблюдения (VMS) -- из ЛР №2.

   -  ПО СКУД (например, HID Velocity Demo).

2. Убедитесь, что в VMS добавлены минимум 2 виртуальные/тестовые камеры (из ЛР №2).

3. В ПО СКУД:

   -  Создайте виртуального пользователя: `Иванов И.И.`, карта `00012345`.

   -  Создайте виртуальную точку доступа: `Main Entrance`.

   -  Назначьте пользователю права доступа к точке.

4. Если используется эмуляция (например, через Agent DVR), подготовьте сценарии событий СКУД.

---

## **3\. Задание 1: Настройка базовой интеграции**

**Цель:** Подключить VMS к СКУД и настроить передачу событий.

**Ход выполнения:**

1. В интерфейсе **Milestone XProtect Management Client** перейдите в `System → Integration`.

2. Выберите `Add Integration → HID Global Velocity` (или соответствующий плагин для вашего ПО СКУД).

3. Введите параметры подключения:

   -  **IP-адрес сервера СКУД:** `127.0.0.1` (если на том же ПК)

   -  **Порт:** `8081` (стандартный для Velocity Demo)

   -  **Логин/Пароль:** `admin / admin` (стандартные для демо)

4. Нажмите `Test Connection` -- должен быть статус «Успешно».

5. Включите опцию `Synchronize Events`.

6. Сохраните интеграцию.

<note type="quote">

**Если используется Blue Iris:**

-  Перейдите в `Settings → Integrations → HTTP/JSON API`.

-  Включите API, задайте порт (например, 8080).

-  В ПО СКУД настройте отправку HTTP POST-запросов на `http://[IP_сервера]:8080/admin?user=admin&pw=пароль&camera=1&trigger=1` при событии доступа.

</note>

<note type="quote">

**Если используется эмуляция через лог-файл:**

-  В VMS настройте «наблюдение» за файлом `events.log`.

-  При появлении новой строки с событием -- триггерить камеру.

</note>

---

## **4\. Задание 2: Настройка правил реакции на события СКУД**

**Цель:** Настроить автоматические действия в VMS при событиях из СКУД.

**Ход выполнения:**

1. В интерфейсе VMS перейдите в раздел **Правила / Events / Triggers**.

2. Создайте новое правило: `Событие доступа — запись видео`.

   -  **Условие (Trigger):**

      -  Тип события: `Access Control Event`

      -  Точка доступа: `Main Entrance`

      -  Тип события: `Granted` (успешный доступ)

   -  **Действие (Action):**

      -  Тип действия: `Start Recording`

      -  Камера: `Camera_Entrance` (та, что направлена на дверь)

      -  Длительность записи: `30 секунд до и после события`

3. Создайте второе правило: `Несанкционированный доступ — оповещение`.

   -  **Условие:**

      -  Тип события: `Access Control Event`

      -  Тип события: `Denied` (неуспешная попытка)

   -  **Действия:**

      -  `Показать видео с Camera_Entrance на основном экране`

      -  `Отправить email на admin@security.local` (если настроено)

      -  `Воспроизвести звуковой сигнал тревоги`

---

## **5\. Задание 3: Тестирование интеграции и анализ результатов**

**Цель:** Проверить работоспособность настроенной интеграции.

**Ход выполнения:**

1. **Тест 1: Успешный проход.**

   -  В интерфейсе СКУД смоделируйте событие: пользователь `Иванов И.И.` проходит через `Main Entrance`.

   -  Убедитесь, что в VMS:

      -  Камера `Camera_Entrance` активировалась (если настроено).

      -  Записан фрагмент длительностью 60 секунд (30 до + 30 после).

      -  В метаданных события указан ID карты и имя пользователя.

2. **Тест 2: Отказ в доступе.**

   -  Смоделируйте событие: попытка доступа по невалидной карте.

   -  Убедитесь, что:

      -  На экране оператора появилось видео с камеры.

      -  Пришло email-уведомление (если настроено).

      -  Прозвучал звуковой сигнал.

3. **Анализ преимуществ:**

   -  Сравните сценарий без интеграции: оператору пришлось бы вручную искать нужное время в архиве.

   -  Сделайте вывод: интеграция сокращает время реакции, снижает нагрузку на персонал, повышает достоверность данных.

---

*(Продолжение следует...)*