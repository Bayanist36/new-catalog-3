---
order: 4
title: Лекция №6
---

**Тема:** Проектирование конфигурации систем видеонаблюдения\
**Время:** 2 часа

---

### **1\. Вступление и связь с предыдущими темами (5 мин)**

Добрый день, уважаемые студенты.

Сегодня мы переходим к шестой лекции нашего курса, и она посвящена **практическому сердцу дисциплины** -- **проектированию конфигурации систем видеонаблюдения**.

На предыдущих занятиях мы заложили прочный теоретический фундамент:

-  В **Лекции №1** мы поняли, **зачем нужны** системы безопасности, изучили их историю, базовые понятия и принципы построения -- такие как **системность**, **комплексность**, **надёжность** и **масштабируемость**.

-  В **Лекции №2** мы детально разобрали **архитектуру современных СВН**: камеры, сети, серверы, хранилища.

-  В **Лекциях №4 и №5** мы изучили **принципы и инструменты управления конфигурацией**: процессы, Git, CASE-средства, CMDB.

Но всё это остаётся абстракцией, пока мы не научимся **переводить требования заказчика в конкретную, управляемую техническую конфигурацию**.

Представьте: заказчик говорит -- «Нам нужны камеры».\
Это -- не техническое задание, а пожелание.\
Ваша задача как специалиста по системному анализу -- превратить это пожелание в **точную спецификацию**, которую можно:

-  закупить,

-  установить,

-  настроить,

-  документировать,

-  и управлять на протяжении всего жизненного цикла.

Именно этому посвящена сегодняшняя лекция.

**Цель:** показать вам **пошаговый процесс проектирования конфигурации СВН** -- от анализа требований до формирования baseline, пригодного для последующего управления изменениями и аудита.

---

### **2\. Этапы проектирования конфигурации СВН (10 мин)**

Проектирование -- это не хаотичный набор решений, а **структурированный процесс**, который напрямую соответствует первым трём этапам вашего **курсового проекта**.

Давайте обозначим ключевые этапы:

1. **Анализ требований заказчика**\
   (соответствует Этапу 1 курсового проекта -- 6 ч)\
   -> Что хочет заказчик? Какие задачи должна решать система?

2. **Оценка объекта и зон наблюдения**\
   -> Где именно нужно наблюдать? Какие условия (освещение, погода, помехи)?

3. **Выбор архитектуры**\
   (соответствует Этапу 2 -- 10 ч)\
   -> Локальная, распределённая или облачная система?

4. **Подбор оборудования и ПО**\
   (соответствует Этапу 3 -- 6 ч)\
   -> Какие модели камер, серверов, дисков использовать?

5. **Расчёт ресурсов**\
   -> Сколько нужно места на дисках? Хватит ли пропускной способности сети?

6. **Формирование конфигурационной спецификации и baseline**\
   -> Создание документа, который станет основой для всех последующих работ: монтажа, настройки, управления изменениями.

<note type="quote">

**Из Лекции №1, п. 17:**\
В мини-проекте для школы мы прошли все эти этапы: от анализа («камеры на входах») до выбора («10 IP-камер, NVR на 16 каналов»).

</note>

Этот процесс -- **мост между бизнес-потребностью и технической реализацией**. И от его качества зависит, будет ли система работать эффективно или превратится в «костыльный зоопарк».

---

### **3\. Анализ требований и зон наблюдения (15 мин)**

Начнём с самого первого и самого важного шага -- **сбора и анализа требований**.

#### **Типы требований**

Требования бывают двух видов:

**1\. Функциональные** -- что система должна **делать**:

-  Фиксировать лица на входе.

-  Подсчитывать количество людей в торговом зале.

-  Вести ночное наблюдение на парковке.

-  Интегрироваться с СКУД для привязки фото к событию прохода.

**2\. Нефункциональные** -- **как** она должна это делать:

-  Хранить архив не менее 30 дней.

-  Обеспечивать разрешение не ниже 2 Мп.

-  Работать при температуре до -30°C (для уличных камер).

-  Иметь резервирование хранилища (RAID).

<note type="quote">

**Из Лекции №1, п. 17.1:**\
«Камеры на всех входах» -- это функциональное требование.\
«Разрешение 2 Мп» -- нефункциональное.

</note>

#### **Методы сбора требований**

-  **Интервью** с заказчиком, охраной, ИТ-службой, юристами (особенно по ФЗ-152).

-  **Анализ нормативных актов**:

   -  ГОСТ Р 51558-2000 (требования к СВН),

   -  ФЗ-152 (обработка персональных данных),

   -  Внутренние регламенты компании.

-  **Обход объекта** -- нельзя проектировать «с листа», нужно видеть реальные условия.

#### **Классификация зон наблюдения**

Не все зоны одинаковы. Каждая требует своего подхода:

| Зона             | Требования                                      | Тип камеры                         |
|------------------|-------------------------------------------------|------------------------------------|
| **Периметр**     | Дальность, ночное видение, защита от вандализма | Уличная PTZ или фиксированная с ИК |
| **Входы/выходы** | Высокое разрешение для распознавания лиц        | Купольная Full HD/4K, WDR          |
| **Коридоры**     | Широкий угол обзора                             | Фиксированная с углом 90–120°      |
| **Серверные**    | Контроль доступа, запись 24/7                   | Купольная с детектором движения    |
| **Парковки**     | Распознавание номеров, работа в любую погоду    | ANPR-камера с ИК-подсветкой        |

<note type="quote">

**Из Лекции №1, п. 18.4:**\
«Камеры фиксируют поведение покупателей» -- это требование к зоне «торговый зал», которое влечёт за собой выбор камер с аналитикой подсчёта людей.

</note>

### **4. Выбор архитектуры и топологии сети (15 мин)**

После того как вы чётко поняли требования и зоны наблюдения, следующий шаг — **выбор архитектуры системы**. Это стратегическое решение, которое определяет всю дальнейшую реализацию.

#### **Критерии выбора архитектуры**

1. **Масштаб объекта**  
   - Один офисный корпус? → достаточно локальной архитектуры.  
   - Сеть филиалов по городу? → нужна распределённая система.  
   - Городская инфраструктура? → облачное или гибридное решение.

2. **Бюджет и ИТ-инфраструктура заказчика**  
   - Есть ли у заказчика серверная комната, ИТ-администраторы?  
   - Готов ли он платить ежемесячно за облачный сервис или предпочитает капитальные затраты?

3. **Требования к доступности и отказоустойчивости**  
   - Для критически важных объектов (аэропорт, завод) требуется резервирование серверов и каналов связи — это возможно только в распределённой архитектуре.

#### **Типы архитектур (связь с Лекцией №2)**

1. **Локальная архитектура**  
   - Все компоненты (камеры, NVR, хранилище) находятся на одном объекте.  
   - Преимущества: простота, низкая стоимость, полный контроль над данными.  
   - Недостатки: ограниченная масштабируемость, зависимость от локальной инфраструктуры.  
   - Пример: школа из мини-проекта (Лекция №1, п. 17).

2. **Распределённая архитектура**  
   - Несколько объектов объединены в единую систему через сеть.  
   - Используется централизованное ПО VMS (Milestone, Genetec).  
   - Преимущества: масштабируемость, централизованное управление.  
   - Недостатки: высокая сложность, требует качественной WAN-сети.  
   - Пример: сеть банков или университетский кампус.

3. **Облачная архитектура (VSaaS)**  
   - Видеопотоки передаются и хранятся в облаке провайдера.  
   - Управление через веб-интерфейс.  
   - Преимущества: отсутствие затрат на серверное оборудование, простота масштабирования.  
   - Недостатки: зависимость от интернет-канала, вопросы безопасности данных.  
   - Пример: небольшие бизнесы, временные объекты.

> **Из Лекции №1, п. 14:**  
> «Облачные решения — переход к видеонаблюдению как услуге (VSaaS)».

#### **Проектирование сетевой топологии**

Независимо от архитектуры, сеть — это её основа.

- **Сегментация (VLAN):**  
  Система видеонаблюдения должна находиться в отдельной VLAN (Лекция №1, п. 8.5). Это защищает и СВН, и корпоративную сеть от взаимных атак.

- **Выбор коммутаторов:**  
  Используйте **PoE-коммутаторы** (Power over Ethernet) — они передают питание и данные по одному кабелю, что упрощает монтаж.  
  Убедитесь, что суммарная мощность PoE достаточна для всех камер.

- **Резервирование:**  
  Для критических узлов (серверная, главный вход) предусмотрите резервные каналы связи или дублирующие коммутаторы.

---

### **5. Подбор оборудования и ПО (20 мин)**

Теперь перейдём к конкретике — **выбору оборудования**.

#### **Камеры**

Выбор камеры зависит от зоны наблюдения и требований:

- **Тип:**  
  - *Фиксированные* — для контроля входов, касс.  
  - *Купольные* — незаметны, подходят для помещений.  
  - *PTZ (поворотные)* — для периметров, парковок, стадионов.  
  - *Термокамеры* — для ночного наблюдения в полной темноте.

- **Ключевые характеристики:**  
  - *Разрешение:* от HD (1 Мп) до 4K (8 Мп+).  
  - *Чувствительность и WDR:* для работы в сложных условиях освещения (например, вход с окном).  
  - *ИК-подсветка:* для ночной съёмки.  
  - *Кодеки:* H.265 экономит до 50% места и трафика по сравнению с H.264.

- **Совместимость:**  
  Убедитесь, что камера поддерживает **ONVIF Profile S/T** (Лекция №1, п. 12.1). Это гарантирует работу с любым VMS.

> **Из Лекции №1, п. 18.2:**  
> «Камеры контролируют соблюдение техники безопасности» — для этого нужны камеры с высоким разрешением и WDR.

#### **Серверная часть**

- **NVR vs VMS:**  
  - *NVR* — автономное устройство «всё-в-одном». Подходит для малых и средних систем.  
  - *VMS* — гибкое ПО на стандартном сервере. Подходит для крупных и сложных проектов.  
  - Примеры ПО: Milestone XProtect, Genetec Security Center, Blue Iris.

- **Требования к серверу:**  
  - Производительность CPU (особенно при использовании аналитики).  
  - Объём оперативной памяти.  
  - Наличие RAID-контроллера для надёжного хранения.

#### **Хранилище**

- **Расчёт объёма:**  
  Формула:  
  `Объём (ТБ) = (Битрейт одной камеры × Кол-во камер × Время хранения в секундах) / (8 × 1024³)`  
  Пример: 10 камер × 4 Мбит/с × 30 дней = ~13 ТБ.

- **Типы дисков:**  
  Используйте специализированные HDD для видеонаблюдения (WD Purple, Seagate SkyHawk). Они рассчитаны на круглосуточную работу.

- **RAID:**  
  RAID 5 или RAID 6 обеспечивает отказоустойчивость — если один диск выйдет из строя, данные не потеряются.

#### **Клиентские приложения**

- Поддержка ОС: Windows, macOS, Linux.  
- Мобильные клиенты для iOS и Android.  
- Веб-интерфейс для удалённого доступа без установки ПО.

> **Из проекта курса, Этап 3:**  
> «Выбор оборудования и ПО, обоснование решений» — именно здесь вы будете приводить такие расчёты и обоснования.

### **6. Расчёт ресурсов и нагрузки (15 мин)**

Выбор оборудования — это не только подбор моделей, но и **точный инженерный расчёт**, чтобы система работала стабильно даже при пиковых нагрузках.

#### **Сетевая нагрузка**

Каждая IP-камера генерирует видеопоток, который создаёт нагрузку на сеть. Если не рассчитать пропускную способность, возможны:
- пропадание кадров,
- задержки в передаче видео,
- полный отказ системы при добавлении новой камеры.

**Как рассчитать:**
1. Определите битрейт одной камеры.  
   Пример: Full HD (1920×1080), H.264, 25 кадров/с → ~4 Мбит/с.
2. Умножьте на количество камер.  
   10 камер × 4 Мбит/с = **40 Мбит/с**.
3. Сравните с пропускной способностью:
   - Коммутаторы: должны быть как минимум **гигабитными** (1000 Мбит/с).
   - Серверный сетевой интерфейс: тоже гигабитный.
   - WAN-канал (для удалённого доступа): должен выдерживать пиковый трафик.

> **Из Лекции №1, п. 13.2:**  
> «Перегрузка сети → пропадание видеопотоков» — именно поэтому расчёт обязателен.

#### **Хранилище**

Это одна из самых частых ошибок — недооценка объёма хранилища.

**Формула расчёта:**
```
Объём (ТБ) = (Битрейт × Кол-во камер × Время хранения в секундах) / (8 × 1024³)
```

**Пример:**  
- 10 камер  
- Битрейт: 4 Мбит/с  
- Время хранения: 30 дней = 30 × 24 × 3600 = 2 592 000 сек  
- Объём = (4 × 10 × 2 592 000) / (8 × 1 073 741 824) ≈ **12.1 ТБ**

**Важно:**  
- Добавьте **запас 20–30%** на рост, пиковые события (например, запись по движению с высоким битрейтом).
- Учитывайте тип RAID: RAID 5 «съедает» один диск, RAID 6 — два.

#### **Питание**

- **PoE-коммутаторы** имеют ограничение по суммарной мощности.  
  Пример: коммутатор на 24 порта, мощность 370 Вт.  
  Камера с ИК-подсветкой потребляет до 12 Вт.  
  Максимум камер: 370 / 12 ≈ **30 камер**, но у вас 24 порта → всё в порядке.
- Для критических узлов (сервер, основной коммутатор) предусмотрите **ИБП** (источник бесперебойного питания) на 2–4 часа.

> **Из Лекции №1, п. 13.1:**  
> «Сбой электропитания → неработоспособность оборудования» — ИБП решает эту проблему.

---

### **7. Формирование конфигурационной спецификации и baseline (10 мин)**

После всех расчётов и выбора оборудования наступает этап **документирования** — создания **конфигурационной спецификации**, которая станет основой для всего последующего жизненного цикла системы.

#### **Что включает спецификация?**

1. **Перечень оборудования** с точными моделями, серийными номерами и количеством:
   - Камера: Axis M3045-V, 10 шт.
   - NVR: Dahua NVR5216-16P-4KS2, 1 шт.
   - Жёсткие диски: WD Purple 8 ТБ, 4 шт.

2. **Сетевые параметры:**
   - Диапазон IP-адресов: 192.168.10.10–192.168.10.20
   - VLAN: 100 (Security)
   - Порты: RTSP — 554, HTTP — 80, HTTPS — 443

3. **Настройки камер и сервера:**
   - Разрешение: 1920×1080
   - Кодек: H.265
   - Битрейт: 4096 Кбит/с
   - Время хранения: 30 дней

4. **Схемы:**
   - Топология сети (как в Практическом занятии №3)
   - План размещения камер на объекте

#### **Baseline как основа управления конфигурацией**

Эта спецификация — это **проектная baseline** (Лекция №4). Она:
- Утверждается заказчиком.
- Закладывается в Git-репозиторий (Лабораторная работа №5).
- Используется как эталон при аудите и расследовании инцидентов.

> **Из проекта курса, Этап 2:**  
> «Разработка архитектуры и схемы конфигурации» — именно здесь вы формируете такую baseline.

---

### **8. Практические примеры и связь с курсовым проектом (5 мин)**

Давайте свяжем всё с реальностью.

**Пример: проектирование СВН для университетского корпуса**  
(связь с Лекцией №1, п. 18.3)

- **Требования:** камеры на входах, в коридорах, лабораториях; интеграция с СКУД; хранение 30 дней.
- **Архитектура:** распределённая, VMS на базе Milestone.
- **Оборудование:** 20 IP-камер (Full HD, WDR), сервер с 40 ТБ RAID 6.
- **Сеть:** отдельная VLAN, гигабитные коммутаторы с PoE+.
- **Документация:** схемы в draw.io, спецификация в Git.

**Связь с курсовым проектом:**
- **Этап 1 (6 ч):** Анализ требований → как в разделе 3 нашей лекции.
- **Этап 2 (10 ч):** Разработка архитектуры → как в разделах 4 и 7.
- **Этап 3 (6 ч):** Выбор оборудования → как в разделе 5.

То, что мы сегодня разбираем, — это **точный план ваших первых трёх этапов проекта**.

---

### **9. Итоги лекции и переход к следующей теме (5 мин)**

Подведём итог.

Сегодня мы прошли **полный цикл проектирования конфигурации СВН**:
- от анализа требований и зон наблюдения,
- через выбор архитектуры и оборудования,
- до расчёта ресурсов и формирования baseline.

Мы поняли, что проектирование — это не «выбор камер по каталогу», а **инженерная дисциплина**, требующая системного мышления, расчётов и документирования.

**Главный вывод:**  
Без грамотного проектирования невозможно эффективное управление конфигурацией. Baseline, созданная на этом этапе, станет основой для всех последующих процессов: управления изменениями, аудита, восстановления.

На следующей лекции мы поговорим о том, **как управлять изменениями в уже работающей системе**:  
**Лекция №7: Управление изменениями и версиями в системах безопасности**.

Есть ли у вас вопросы? Готов ответить.

Спасибо за внимание!